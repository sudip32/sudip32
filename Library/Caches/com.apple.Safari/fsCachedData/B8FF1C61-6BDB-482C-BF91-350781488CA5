((function(){this.CS={subscriptionPrice:29,payPeriod:"month",payPeriodOffset:"1",reviewOffset:0,runAnalytics:!0},CS.visibilityState=void 0,CS.visibilityChange=void 0,typeof document.visibilityState!="undefined"?(CS.visibilityState="visibilityState",CS.visibilityChange="visibilitychange"):typeof document.mozVisibilityState!="undefined"?(CS.visibilityState="mozVisibilityState",CS.visibilityChange="mozvisibilitychange"):typeof document.msVisibilityState!="undefined"?(CS.visibilityState="msVisibilityState",CS.visibilityChange="msvisibilitychange"):typeof document.webkitVisibilityState!="undefined"&&(CS.visibilityState="webkitVisibilityState",CS.visibilityChange="webkitvisibilitychange")})).call(this),function(){}.call(this),function(){$(function(){return window.account={announceBtn:$(".js-moreAnnouncements"),perPage:5,moreBtnPadding:10,initButtonPage:function(){return this.announceBtn.attr("data-page",1)},initMoreAnnouncementsBtn:function(){var a;return a=this,this.announceBtn.on("click",function(b){return b.preventDefault(),a.getAnnouncements()})},initCodeLove:function(){var a=this;return $('.course-name:contains("Code Love")').on("click",function(a){return a.preventDefault(),window.location.href="http://codeschool.com/codelove"})},getAnnouncements:function(){var a;return this.announceBtn.off(),this.buttonText=this.announceBtn.html(),this.announceBtn.html("Loading..."),a={per_page:this.perPage,page:parseInt(this.announceBtn.attr("data-page"),10)+1},$.get(this.announceBtn.data("url"),a,this.announceSuccessHandler)},announceSuccessHandler:function(a){var b,c,d;return b=account.announceBtn.attr("data-page"),account.announceBtn.attr("data-page",parseInt(b,10)+1),c=$(".js-announcementsList"),c.css({overflow:"hidden"}),c.height(c.height()),c.append(account.renderReleaseCollection(a)),d=0,c.find("li").each(function(){return d+=$(this).outerHeight()+account.moreBtnPadding}),c.animate({height:""+d+"px"},function(){return c.height("auto")}),account.initMoreAnnouncementsBtn(),account.announceBtn.html(account.buttonText)},renderRelease:function(a){var b;return b="<li class='list-item'>",b+="<div class='mbxs'>",a.discontinued||(b+="<a class='list-item-link' href='"+a.path+"'>"+a.title+"</a>"),b+="</div>",b+="<span class='db tcs tsm twb'>released "+a.released_at+" ago.</span>",b+="</li>",b},renderReleaseCollection:function(a){var b,c,d,e;b="";for(d=0,e=a.length;d<e;d++)c=a[d],b+=this.renderRelease(c);return b}},account.initButtonPage(),account.initMoreAnnouncementsBtn(),account.initCodeLove()})}.call(this),function(){$(function(){return window.account_edit={initNewsletterListeners:function(){return $(".js-subscriptions-item").on("click",this.subscriptionOptionClickHandler)},subscriptionOptionClickHandler:function(a){var b,c,d;return a.preventDefault(),b=$(this).parent(),d=b.attr("data-subscribed"),c=b.attr("data-key"),account_edit.toggleSubscription(c,d),account_edit.toggleSubscriptionState(b,d==="true"?!1:!0)},toggleSubscription:function(a,b){var c;return c={option:a,subscribed:b==="true"?!1:!0},$.post("/account/edit_subscriptions.json",c,account_edit.subscriptionSuccessHandler),$.ajax({type:"POST",url:"/account/edit_subscriptions.json",data:c,success:account_edit.subscriptionSuccessHandler,error:account_edit.subscriptionErrorHandler})},subscriptionSuccessHandler:function(a){var b;b=".js-subscriptions li[data-key="+a.option+"]";if(!a.update_success)return account_edit.toggleSubscriptionState(b,a.subscribed==="true"?!1:!0)},subscriptionErrorHandler:function(a){var b,c,d;return d=this.data.split("&")[1].split("=")[1],c=this.data.split("&")[0].split("=")[1],b=".js-subscriptions li[data-key="+c+"]",account_edit.toggleSubscriptionState(b,d==="true"?!1:!0)},changeToUnsubscribe:function(a){return a.removeClass("is-checked").attr("title","Click to add subscription").attr("data-original-title","Click to add subscription")},changeToSubscribe:function(a){return a.addClass("is-checked").attr("title","Click to remove subscription").attr("data-original-title","Click to remove subscription")},toggleSubscriptionState:function(a,b){return b?account_edit.changeToSubscribe(a):account_edit.changeToUnsubscribe(a),a.attr("data-subscribed",b)}},account_edit.initNewsletterListeners()})}.call(this),function(){var a;a=$.cookie("user"),a?this.CS.User=JSON.parse(decodeURI(a)):this.CS.User={}}.call(this),function(){this.CS.Event={Course:{CLICKED_HELPFUL_RESOURCES:"Helpful Resources Clicked",VISITED:"Course Visited"},Credit:{REDEEMED:"Credit Redeemed"},Gift:{REDEEMED:"Gift Redeemed"},HallPass:{SHARED_STARTED:"Shared Hall Pass Started",STARTED:"Hall Pass Started",EXPIRED:"Hall Pass Expired"},Path:{VISITED:"Path Visited"},Promotion:{ASSIGNED:"Promotion Assigned",REDEEMED:"Promotion Redeemed"},PromotionalSale:{REDEEMED:"Promotional Sale Redeemed"},Subscription:{CANCELED:"Sub Canceled",ENDED:"Sub Ended",EXPIRED:"Sub Expired",BILLED:"Subscription Billed",INDIVIDUAL_STARTED:"Individual Sub Started",PLAYER_ADDED:"Added Player to Team",PLAYER_REMOVED:"Removed Player from Team",SCHEDULED_CANCELATION:"Subscription Cancelation Scheduled",SCHEDULED_SUSPENSION:"Subscription Suspension Scheduled",SUSPENDED:"Sub Suspended",UNSCHEDULED_CANCELATION:"Subscription Cancelation Unscheduled",UNSCHEDULED_SUSPENSION:"Subscription Suspension Unscheduled",UNSUSPENDED:"Sub Unsuspended",STARTED:"Sub Started",SEATS_ADDED:"Subscription Team Seats Added",SEATS_REMOVED:"Subscription Team Seats Removed",TEAM_STARTED:"Team Sub Started",REFUNDED:"Subscription Refunded"},User:{AFFILIATE_REFERRAL:"Ambassador User Referred",AFFILIATE_REFERRAL_CONVERSION:"Ambassador User Subscribed",CLICKED_ENROLL:"User Clicked Enroll",CLICKED_ENROLL_START:"User Clicked Enroll Start",CREATED_COURSE_REMINDER:"User Created Course Reminder",COMPLETED_COURSE:"User Completed Course",DESTROYED:"User Destroyed",POSTED_CONTENT:"User Posted Content",REDEEMED_VOUCHER:"User Redeemed Voucher",REGISTERED:"User Registered",REVIEWED_COURSE:"User Reviewed Course",SHARE:"User Share",SIGNED_IN:"User Signed In",SIGNED_OUT:"User Signed Out",STARTED_COURSE:"User Started Course"},Video:{VISITED:"Video Visited",PLAYED:"Video Played",WATCHED:"Video Watched"}}}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.update=b(this.update,this);var a=this;$(document).ready(function(){return a.bind(),a.line_price=parseFloat($("#new_shopping_cart .course").attr("data-unit-price")),$("#new_shopping_cart input.quantity").focus()})}return a.prototype.line_price=null,a.prototype.bind=function(){return $("#new_shopping_cart input.quantity").on("focus",this.select),$("#new_shopping_cart input.quantity").on("keyup",this.update)},a.prototype.update=function(a){var b,c;c=parseInt($("#new_shopping_cart input.quantity").val());if(c!=null&&!isNaN(c)&&c>0)return b=this.line_price*c,b="$"+b.toFixed(2),$("#new_shopping_cart .line-price").text(b),$(".total").text(b)},a.prototype.select=function(a){if(this.value===this.defaultValue)return this.select()},a}(),new a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.handleSubmit=b(this.handleSubmit,this),$("#shopping_cart_payment_method_paypal").is(":checked")?this.showPayPal():this.showCreditCard(),$("#shopping_cart_payment_method_creditcard").on("change",this.showCreditCard),$("#shopping_cart_payment_method_paypal").on("change",this.showPayPal),$("#spinner").hide(),$("#new_shopping_cart").submit(this.handleSubmit)}return a.prototype.handleSubmit=function(){if(!$(".paypal-button").is(":disabled"))return $(".paypal-button").attr("disabled","disabled"),this.showSpinner()},a.prototype.showCreditCard=function(){return $(".creditcard-selector label").removeClass("blur"),$(".paypal-selector label").addClass("blur"),$(".paypal").slideUp(150,function(){return $(".creditcard").slideDown(300,function(){return $("#purchase-button").show()})})},a.prototype.showPayPal=function(){return $(".paypal-selector label").removeClass("blur"),$(".creditcard-selector label").addClass("blur"),$("#purchase-button").hide(),$(".creditcard").slideUp(300,function(){return $(".paypal").slideDown(150)})},a.prototype.showSpinner=function(){if($("#shopping_cart_payment_method_paypal").is(":checked"))return $("#spinner").show()},a}(),$(document).ready(function(){return new a})}.call(this),function(){var a;a=function(){function a(a){this.set(a)}return a.prototype.idCount=0,a.prototype.set=function(a){var b=this;return this.notes=$(a),this.notes.on("click",".note",function(a){return a.preventDefault(),b["delete"]($(a.currentTarget))}).on("mouseenter",function(){return clearInterval(b.interval)}).on("mouseleave",function(){return b.interval=b.poll()})},a.prototype["new"]=function(a){var b;return b=$(this.create(a)).appendTo(this.notes),setTimeout(function(){return b.addClass("in")},1),this.notes.children().not(".note--error").length<2&&(clearInterval(this.interval),this.interval=this.poll()),b.data("id")},a.prototype.create=function(a){return this.idCount+=1,'<li class="note note--'+a.type+'" data-id="'+this.idCount+'">\n  '+a.message+'\n  <a class="close note-close" href="#"><b class="srt">Close</b></a>\n</li>'},a.prototype["delete"]=function(a){var b=this;if(!a)return;return a!=null&&a.removeClass("in").addClass("out"),setTimeout(function(){return b.bury(a)},1e3*this.notes.length)},a.prototype.bury=function(a){var b;return a.removeClass("out"),a=a,a.remove(),b=$(".note-log"),b.length>0?b.append(a):(b=$("<ul class='note-log is-hidden'>"),$("body").append(b),b.append(a))},a.prototype.poll=function(){var a=this;return setInterval(function(){return a.update()},3e3)},a.prototype.getNoteById=function(a){return this.notes.find("[data-id='"+a+"']")},a.prototype.update=function(){var a;return a=this.notes.children().not(".note--error").first(),a.length===0?clearInterval(this.interval):this["delete"](a)},a}(),window.CS.Note=a}.call(this),function(){var a;a=function(){function a(a,b){this.message=a,this.title=b}return a.prototype.send=function(a){var b=this;return this.supported?this.askPermission(a,function(){return window.webkitNotifications.createNotification("/assets/icn-error.png",b.message,b.title).show()}):a()},a.prototype.supported=!1,a.prototype.askPermission=function(a,b){return window.webkitNotifications.checkPermission()===0?b():window.webkitNotifications.requestPermission(function(){return window.webkitNotifications.checkPermission()===0?b():a()})},a}(),window.NotificationMessage=a}.call(this),function(){var a;a=function(){function a(){var a=this;$(document).ready(function(){return a.transferFromCookies(),a.insertMessages()})}return a.prototype.data={},a.prototype.transferFromCookies=function(){var a;return a=this.loadJSON(this.readCookie()),a==null&&(a={}),this.data=a},a.prototype.insertMessages=function(){var a,b,c;c=[];for(b in this.data)"analytics"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new Analytics).trackEvent(a)})):"_adr_conv"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return window.adroll_conversion=function(){return window.__adroll.record_user(a)}})):"_adr_enro"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return window.adroll_enrollment=function(){return window.__adroll.record_user(a)}})):"_gae"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new GoogleRails.GoogleAnalytics).trackEvent(a)})):"_gac"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new GoogleRails.GoogleAnalytics).trackEcommerce(a)})):"_awc"===b?c.push(this.execute(this.loadJSON(this.data[b]),function(a){if(a!=null)return(new GoogleRails.GoogleAdWords).track(a)})):"_"===b[0]?this.data[b]!=null?c.push($("body").append(unescape(this.data[b].toString()))):c.push(void 0):(a=new window.CS.Note(".js-notes"),c.push(a["new"]({type:""+b,message:""+unescape(this.data[b])})));return c},a.prototype.loadJSON=function(a){return $.parseJSON(a)},a.prototype.execute=function(a,b){var c,d,e,f;if(a!=null&&"[object Array]"===Object.prototype.toString.call(Object(a))){f=[];for(d=0,e=a.length;d<e;d++)c=a[d],f.push(b(c));return f}return b(a)},a.prototype.readCookie=function(){var a;return a=$.cookie("flash"),a!=null&&(a=a.replace(/\+/g," ").replace(/%2B/g,"+")),$.cookie("flash",null,{path:"/"}),a},a}(),new a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(a){this.userErrorHandler=b(this.userErrorHandler,this),this.userCreationErrorHandler=b(this.userCreationErrorHandler,this),this.userCreationSuccessHandler=b(this.userCreationSuccessHandler,this),this.setup(a)}return a.prototype.setup=function(a){return this.options=a,this.States.options=this.options,this.States.promotionEnabled=!0,this.groupQuantity=1,CS.queryParams().team==="true"?(this.state="team",this.States.hidePaypal()):this.state="individual",this.notes=new CS.Note(".js-notes"),this.setPlan(),this.setPayment(),this.initBlurValidation(),this.initSignup(),this.initSignInButton(),this.initSignUpButton(),this.initSeatCounter(),this.initPromotionSelector(),this.initTogglePaymentSchedule(),this.initRenderOrderTotal(),this.initRenderPrice(),this.initHandleEnrollErrors()},a.prototype.setPlan=function(){var a=this;return this.options.select.on("click",function(b){var c;return b.preventDefault(),c=$(b.currentTarget),$(".enroll-select").removeClass("active"),c.toggleClass("active"),a.state=c.find("a").data("state"),a.state==="team"?a.States.teamSubscription(c):a.States.individualSubscription(c)})},a.prototype.initSeatCounter=function(){var a=this;return this.options.cartForm.find(".seat-input").on("input",function(b){var c;return c=$(b.currentTarget).val(),a.States.renderOrderTotal()})},a.prototype.initBlurValidation=function(){var a=this;return this.options.inputs.on("blur",function(b){return a.validate(b.currentTarget)})},a.prototype.validate=function(a){var b,c,d;b=$(a),b.val()===""?c="Please enter a value.":b.attr("type")==="email"&&!/\S+@\S+\.\S+/.test(b.val())?c="Invalid Email Address":b.attr("type")==="password"&&b.val().length<8?c="Your password needs to be at least 8 characters long":b.attr("id")==="new_user_registration_username"&&!/^[a-zA-Z_-](?!.*([_-])\1)[A-Za-z0-9_-]+$/i.test(b.val())?c="Your username can't start with a number, and should only have letters & numbers without spaces.":(b.removeClass("error"),b.tooltip("destroy"),b.addClass("success"),d=this.notes.getNoteById(b.data("note-id")),d&&this.notes["delete"](d));if(c)return this.setErrorMessage(b,c)},a.prototype.setErrorMessage=function(a,b){return this.triggerNoteOn(a,b),a.removeClass("success"),a.addClass("error"),a.tooltip("destroy"),a.tooltip({title:b})},a.prototype.triggerNoteOn=function(a,b){var c,d;c=this.notes.getNoteById(a.data("note-id"));if(c.length>0&&$(c).html().indexOf(b)===-1||c.length===0)return c&&this.notes["delete"](c),d=this.notes["new"]({type:"error",message:b}),a.data("note-id",d)},a.prototype.setPayment=function(){return this.options.payment.on("change",function(a){var b;return b=$(this).val(),b==="credit_card"?$(".credit-card").show():$(".credit-card").hide()})},a.prototype.initTogglePaymentSchedule=function(){var a=this;return this.options.cartForm.addClass("interval-"+CS.payPeriod),this.options.togglePaymentSchedule.on("click",function(b){var c,d,e;return b.preventDefault(),a.States.hidePaypal(),CS.payPeriod=$(b.target).data("schedule"),a.options.cartForm.removeClass("interval-month").removeClass("interval-year").addClass("interval-"+CS.payPeriod),d=CS.products["single_"+CS.payPeriod],a.options.select.parent().find(".single").data("id",d.id).data("interval",CS.payPeriod).data("price",d.price).data("list-price",d.list_price).data("secret",d.secret),e=CS.products["group_"+CS.payPeriod],a.options.select.parent().find(".group").data("id",e.id).data("interval",CS.payPeriod).data("price",e.price).data("list-price",e.list_price).data("secret",e.secret),c=a.options.select.parent().find(".active"),c.trigger("click"),CS.payPeriod==="month"?(a.States.promotionEnabled=!0,c.hasClass(".single")&&a.options.promotionSelector.removeClass("l-hide")):(a.States.promotionEnabled=!1,a.options.promotionSelector.addClass("l-hide")),a.States.renderOrderTotal()})},a.prototype.initPromotionSelector=function(){var a,b,c,d=this;return c=this.options.promotionSelector.find(".promotions-toggle"),a=this.options.promotionSelector.find("ul"),b=this.options.promotionSelector.find("li"),c.on("click",function(b){return b.preventDefault(),a.toggleClass("is-visible")}),b.on("click",function(b){var e,f,g;return b.preventDefault(),e=$(b.currentTarget),f=e.find("input"),g=e.find("span").html(),d.options.promotionSelector.find("input").attr("checked",null),f.attr("checked","checked"),c.html(""+g+" <i class='caret'></i>"),a.removeClass("is-visible"),d.States.renderOrderTotal()})},a.prototype.initSignUpButton=function(){var a=this;return this.options.signUpButton.on("click",function(b){return b.preventDefault(),a.States.signUpForm()})},a.prototype.initSignup=function(){var a=this;return this.options.signUpSubmit.on("click",function(b){var c;return b.preventDefault(),a.createUserSubmitClicked?!1:($.each(a.options.signUpForm.find(".required input"),function(b,c){return a.validate(c)}),c=$(b.currentTarget),a.options.signUpForm.find(".required input.error").length>0?a.triggerNoteOn(c,'Please fix fields marked with an "X" before continuing'):(c.attr("data-label",c.val()),c.val("Creating..."),a.createUserSubmitClicked=!0,a.createUser()))})},a.prototype.createUser=function(){var a,b;return b=this.options.signUpForm,a={utf8:"✓",authenticity_token:b.find("input[name=authenticity_token]").val(),user:{email:b.find('input[name="new_user_registration[email]"]').val(),username:b.find('input[name="new_user_registration[username]"]').val(),password:b.find('input[name="new_user_registration[password]"]').val(),newsletter:1}},$.ajax({url:b.find(".form--auth").data("url"),data:a,type:"POST",success:this.userCreationSuccessHandler,error:this.userCreationErrorHandler,dataType:"json"})},a.prototype.userCreationSuccessHandler=function(a){var b;return this.createUserSubmitClicked=!1,b=this.options.signUpForm.find("input[type=submit]"),b.val("Create Account"),this.options.signUpForm.find("input:not([type=submit])").val(""),this.States.userExists(a),this.options.userSignedIn=!0},a.prototype.userCreationErrorHandler=function(a){var b;return this.createUserSubmitClicked=!1,b=this.options.signUpForm.find("input[type=submit]"),b.val("Create Account"),this.userErrorHandler(a)},a.prototype.userErrorHandler=function(a){var b,c,d,e;d=this.options.signUpForm.find("input[type=submit]"),c=JSON.parse(a.responseText),e=[];for(b in c)b==="error"?e.push(this.triggerNoteOn(d,""+b+": "+c[b])):e.push(this.setErrorMessage(this.options.signUpForm.find("input[name='new_user_registration["+b+"]']"),""+b+": "+c[b][0]));return e},a.prototype.signOutUser=function(){return $.get("/users/sign_out",{surpress_flash:!0}),this.options.userSignedIn=!1},a.prototype.initSignInButton=function(){var a=this;return this.options.signInButton.on("click",function(b){return b.preventDefault(),a.options.userSignedIn&&($(".form-account").removeClass("is-complete"),a.signOutUser()),a.States.signInForm()})},a.prototype.initHandleEnrollErrors=function(){return this.States.handleEnrollErrors()},a.prototype.initRenderOrderTotal=function(){var a;a=$(".new_shopping_cart").hasClass("interval-month");if(a)return this.States.renderOrderTotal()},a.prototype.initRenderPrice=function(){var a;a=$(".new_shopping_cart").hasClass("interval-month");if(a)return this.States.renderPrice()},a.prototype.States={init:function(a){return this.options=a},gravatarForEmail:function(a){return"//www.gravatar.com/avatar/"+md5(a)+".jpg?s=50"},userExists:function(a){return this.options.accountDescription.hide(),this.options.signInForm.hide(),this.options.signUpForm.hide(),this.options.signedInUser.show(),this.options.signedInUser.find(".email").html(a.email),this.options.signedInUser.find("img").attr("src",this.gravatarForEmail(a.email)),this.options.paymentForm.removeClass("inactive")},teamSubscription:function(a){return this.options.cartForm.find(".product-id").val(a.data("id")),this.options.cartForm.find(".product-secret").val(a.data("secret")),$(".seat-select").addClass("active"),this.options.promotionSelector.addClass("l-hide"),this.promotionEnabled=!1,CS.subscriptionPrice=a.data("list-price"),CS.updatePrice(this.options.cartForm.find(".seat-input").val(),this.options.price),this.hidePaypal(),this.renderOrderTotal()},individualSubscription:function(a){return this.options.cartForm.find(".product-id").val(a.data("id")),this.options.cartForm.find(".product-secret").val(a.data("secret")),this.options.cartForm.find(".product-quantity").val(a.data("quantity")),this.options.price.html("$"+a.data("price")+" <b>per "+a.data("interval")+"</b>"),$(".seat-select").removeClass("active"),CS.subscriptionPrice=a.data("list-price"),this.options.cartForm.find(".seat-input").val(a.data("quantity")).trigger("input"),a.data("interval")==="month"&&(this.showPaypal(),a.data("price")===25&&(this.promotionEnabled=!0),this.options.promotionSelector.removeClass("l-hide")),this.renderOrderTotal()},signInForm:function(){return this.options.signedInUser.hide(),this.options.signUpForm.hide(),this.options.accountDescription.show(),this.options.signInForm.show(),this.options.paymentForm.addClass("inactive")},signUpForm:function(){return this.options.signedInUser.hide(),this.options.signInForm.hide(),this.options.accountDescription.show(),this.options.signUpForm.show(),this.options.paymentForm.addClass("inactive")},hidePaypal:function(){return this.options.paymentForm.find(".paypal-payment").hide(),this.paypal=this.options.paymentForm.find(".paypal-payment input").is(":checked"),this.options.paymentForm.find(".credit-card-payment input").attr("checked","checked").trigger("change")},showPaypal:function(){this.options.paymentForm.find(".paypal-payment").show();if(this.paypal)return this.options.paymentForm.find(".paypal-payment input").attr("checked","checked").trigger("change")},renderOrderTotal:function(){var a,b,c,d,e,f;f=this.options.paymentForm.find(".total"),d=this.options.cartForm.find(".seat-input").val();if(d===""||isNaN(d))d=1;return e=parseInt(this.options.select.parent().find(".active").data("price"),10)*parseInt(d,10),c=this.options.promotionSelector.find("input[checked=checked]").data("value"),a=f.find("ul"),b=this.options.select.parent().find(".active").data("title"),CS.payPeriod==="month"?a.find(".line-item.product").html(""+b+"<strong>$"+e+"</strong>"):b.match(/Team/)?a.find(".line-item.product").html("Yearly Team Enrollment <strong>$"+e+"</strong>"):a.find(".line-item.product").html("Yearly Enrollment <strong>$"+e+"</strong>"),this.promotionEnabled&&c&&(e-=c),e<0&&(e=0),e===0?($(".form-payment .options").addClass("l-hide"),$(".credit-card").addClass("l-hide")):($(".form-payment .options").removeClass("l-hide"),$(".credit-card").removeClass("l-hide")),f.find("h3 b").html("$"+e)},renderPrice:function(){var a,b,c;return c=this.options.paymentForm.find(".total"),a=c.find("ul"),b=a.find(".line-item.product strong").html(),$(".price h4").html(b)},handleEnrollErrors:function(){var a,b,c,d,e;return CS.payPeriod=this.options.payPeriod,this.options.cartForm.removeClass("interval-month").removeClass("interval-year").addClass("interval-"+CS.payPeriod),a=this.options.products,c="single_"+CS.payPeriod,b=a[c],this.options.individualProduct.data("id",b.id).data("interval",CS.payPeriod).data("price",b.price).data("list-price",b.list_price).data("secret",b.secret),e="group_"+CS.payPeriod,d=a[e],this.options.teamProduct.data("id",d.id).data("interval",CS.payPeriod).data("price",d.price).data("list-price",d.list_price).data("secret",d.secret),CS.payPeriod==="month"?(this.promotionEnabled=!0,this.options.activeProduct.hasClass(".single")&&this.options.promotionSelector.removeClass("l-hide")):(this.promotionEnabled=!1,this.options.promotionSelector.addClass("l-hide")),this.renderOrderTotal(),this.renderPrice()}},a}(),window.CS.Enroll=a}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function e(b){this.options=b,this.authorization=new a(this.options),this.subscriptionService=new d(this.options)}var a,c,d;return a=function(){function a(a){this.options=a,this.userErrorHandler=b(this.userErrorHandler,this),this.userCreationErrorHandler=b(this.userCreationErrorHandler,this),this.userCreationSuccessHandler=b(this.userCreationSuccessHandler,this),this.signUpHandler=b(this.signUpHandler,this),this.showSignUpHandler=b(this.showSignUpHandler,this),this.sessionErrorHandler=b(this.sessionErrorHandler,this),this.showSignInHandler=b(this.showSignInHandler,this),this.options.signInButton.on("click",this.showSignInHandler),this.options.signUpButton.on("click",this.showSignUpHandler),this.options.signUpSubmit.on("click",this.signUpHandler),this.options.signInSubmit.on("click",this.signInHandler),this.initBlurValidation(),this.notes=new CS.Note(".js-notes")}return a.prototype.initBlurValidation=function(){var a=this;return this.options.inputs.on("blur",function(b){return a.validate(b.currentTarget)})},a.prototype.signOutUser=function(){return $.get("/users/sign_out",{surpress_flash:!0}),this.options.userSignedIn=!1},a.prototype.showSignInHandler=function(a){return a.preventDefault(),this.options.userSignedIn&&($(".form-account").removeClass("is-complete"),this.signOutUser()),this.options.signedInUser.hide(),this.options.signUpForm.hide(),this.options.accountDescription.show(),this.options.signInForm.show(),this.options.paymentForm.addClass(this.options.inactiveClass)},a.prototype.sessionErrorHandler=function(a){var b,c,d,e;d=this.options.signInForm.find("input[type=submit]"),c=JSON.parse(a.responseText),e=[];for(b in c)b==="error"?e.push(this.triggerNoteOn(d,""+b+": "+c[b])):e.push(this.setErrorMessage(this.options.signInForm.find("input[name='user["+b+"]']"),""+b+": "+c[b][0]));return e},a.prototype.showSignUpHandler=function(a){return a.preventDefault(),this.options.signedInUser.hide(),this.options.signInForm.hide(),this.options.accountDescription.show(),this.options.signUpForm.show(),this.options.paymentForm.addClass(this.options.inactiveClass)},a.prototype.signUpHandler=function(a){var b,c=this;return a.preventDefault(),this.createUserSubmitClicked?!1:($.each(this.options.signUpForm.find(".required input"),function(a,b){return c.validate(b)}),b=$(a.currentTarget),this.options.signUpForm.find(".required input.error").length>0?this.triggerNoteOn(b,'Please fix fields marked with an "X" before continuing'):(b.attr("data-label",b.val()),b.val("Creating..."),this.createUserSubmitClicked=!0,this.createUser()))},a.prototype.createUser=function(){var a,b;return b=this.options.signUpForm,a={utf8:"✓",authenticity_token:b.find("input[name=authenticity_token]").val(),user:{email:b.find('input[name="new_user_registration[email]"]').val(),username:b.find('input[name="new_user_registration[username]"]').val(),password:b.find('input[name="new_user_registration[password]"]').val(),newsletter:1}},$.ajax({url:b.find("[data-url]").data("url"),data:a,type:"POST",success:this.userCreationSuccessHandler,error:this.userCreationErrorHandler,dataType:"json"})},a.prototype.userCreationSuccessHandler=function(a){var b;return this.createUserSubmitClicked=!1,b=this.options.signUpForm.find("input[type=submit]"),b.val("Create Account"),this.options.signUpForm.find("input:not([type=submit])").val(""),this.options.accountDescription.hide(),this.options.signInForm.hide(),this.options.signUpForm.hide(),this.options.signedInUser.show(),this.options.signedInUser.find(".email").html(a.email),this.options.signedInUser.find("img").attr("src",this.gravatarForEmail(a.email)),this.options.paymentForm.removeClass(this.options.inactiveClass),this.options.userSignedIn=!0},a.prototype.userCreationErrorHandler=function(a){var b;return this.createUserSubmitClicked=!1,b=this.options.signUpForm.find("input[type=submit]"),b.val("Create Account"),this.userErrorHandler(a)},a.prototype.userErrorHandler=function(a){var b,c,d,e;d=this.options.signUpForm.find("input[type=submit]"),c=JSON.parse(a.responseText),e=[];for(b in c)b==="error"?e.push(this.triggerNoteOn(d,""+b+": "+c[b])):e.push(this.setErrorMessage(this.options.signUpForm.find("input[name='new_user_registration["+b+"]']"),""+b+": "+c[b][0]));return e},a.prototype.triggerNoteOn=function(a,b){var c,d;c=this.notes.getNoteById(a.data("note-id"));if(c.length>0&&$(c).html().indexOf(b)===-1||c.length===0)return c&&this.notes["delete"](c),d=this.notes["new"]({type:"error",message:b}),a.data("note-id",d)},a.prototype.setErrorMessage=function(a,b){return this.triggerNoteOn(a,b),a.removeClass("success"),a.addClass("error"),a.tooltip("destroy"),a.tooltip({title:b})},a.prototype.gravatarForEmail=function(a){return"//www.gravatar.com/avatar/"+md5(a)+".jpg?s=50"},a.prototype.validate=function(a){var b,c,d;b=$(a),b.val()===""?c="Please enter a value.":b.attr("type")==="email"&&!/\S+@\S+\.\S+/.test(b.val())?c="Invalid Email Address":b.attr("type")==="password"&&b.val().length<6?c="Your password needs to be at least 6 characters long":b.attr("id")==="new_user_registration_username"&&!/^[a-zA-Z_-](?!.*([_-])\1)[A-Za-z0-9_-]+$/i.test(b.val())?c="Your username can't start with a number, and should only have letters & numbers without spaces.":b.attr("id")==="cc_number"&&!Stripe.card.validateCardNumber(b.val())?c="Invalid credit card number.":b.attr("id")==="cc_cvc"&&!Stripe.card.validateCVC(b.val())?c="Invalid CVV number.":(b.removeClass("error"),b.tooltip("destroy"),b.addClass("success"),d=this.notes.getNoteById(b.data("note-id")),d&&this.notes["delete"](d));if(c)return this.setErrorMessage(b,c)},a}(),c=function(){function a(a){this.parameters=a,this.id=this.parameters.id,this.interval=this.parameters.interval,this.amount=Math.floor(this.parameters.amount),this.initial_amount=Math.floor(this.parameters.initial_amount)}return a.PLANS=[],a.add=function(b){return this.PLANS.push(new a(b))},a.get=function(a){var b;return function(){var c,d,e,f;e=this.PLANS,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],b.id===a&&f.push(b);return f}.call(this)[0]},a.individual_month=function(){var a;return function(){var b,c,d,e;d=this.PLANS,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.isIndividual()&&a.isMonth()&&a.isDefault()&&e.push(a);return e}.call(this)[0]},a.individual_year=function(){var a;return function(){var b,c,d,e;d=this.PLANS,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.isIndividual()&&a.isYear()&&a.isDefault()&&e.push(a);return e}.call(this)[0]},a.team_month=function(){var a;return function(){var b,c,d,e;d=this.PLANS,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.isTeam()&&a.isMonth()&&a.isDefault()&&e.push(a);return e}.call(this)[0]},a.team_year=function(){var a;return function(){var b,c,d,e;d=this.PLANS,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.isTeam()&&a.isYear()&&a.isDefault()&&e.push(a);return e}.call(this)[0]},a.prototype.isDefault=function(){return this.parameters.default_plan},a.prototype.isMonth=function(){return this.interval==="month"},a.prototype.isYear=function(){return this.interval==="year"},a.prototype.isTeam=function(){return this.parameters.type==="Loot::Subscription::Plan::Team"},a.prototype.isIndividual=function(){return this.parameters.type==="Loot::Subscription::Plan::Individual"},a.prototype.isHallPass=function(){return this.parameters.type==="Loot::Subscription::Plan::HallPass"},a}(),d=function(){function a(a){var d,e,f,g;this.options=a,this._quantityChangeHandler=b(this._quantityChangeHandler,this),this._typeButtonHandler=b(this._typeButtonHandler,this),this._creditCardButtonHandler=b(this._creditCardButtonHandler,this),this._payPalButtonHandler=b(this._payPalButtonHandler,this),this._intervalButtonHandler=b(this._intervalButtonHandler,this),this.teamQuantity=1,this.payPal=!1,g=this.options.plans;for(e=0,f=g.length;e<f;e++)d=g[e],c.add(d);this._initializeEvents(),this.setPlan(c.get(this.options.selected_plan_id))}return a.prototype.MONTH="month",a.prototype.YEAR="year",a.prototype.TEAM="team",a.prototype.INDIVIDUAL="individual",a.prototype._initializeEvents=function(){return $(".toggle-payment-schedule").on("click",this._intervalButtonHandler),this.options.select.on("click",this._typeButtonHandler),this.options.seatInput.on("input",this._quantityChangeHandler),$("#payment_method_credit_card").on("change",this._creditCardButtonHandler),$("#payment_method_paypal").on("change",this._payPalButtonHandler)},a.prototype._intervalButtonHandler=function(a){return a.preventDefault(),$(a.target).data("schedule")===this.MONTH?this.setMonth():this.setYear(),!1},a.prototype
._payPalButtonHandler=function(a){return this.setPayPal()},a.prototype._creditCardButtonHandler=function(a){return this.setCreditCard()},a.prototype._typeButtonHandler=function(a){return a.preventDefault(),$(a.currentTarget).find("a").data("state")===this.TEAM?this.setTeam():this.setIndividual(),!1},a.prototype._quantityChangeHandler=function(a){return this.setTeamQuantity(parseInt($(a.target).val()))},a.prototype.setPayPal=function(){return this.payPal=!0,$("#cs_form #subscription_payment_method").val("paypal"),this.render()},a.prototype.setCreditCard=function(){return this.payPal=!1,$("#cs_form #subscription_payment_method").val("credit_card"),this.render()},a.prototype.setTeamQuantity=function(a){return this.teamQuantity=a,$("#subscription_quantity").val(a),$(".total_amount").html("$"+this.getTotal())},a.prototype.setPlan=function(a){return this.selectedPlan=a,$("#cs_form #subscription_plan_id").val(a.id),$(".line-items .line-item .product").html(this.selectedPlan.parameters.name),$(".interval").html(this.selectedPlan.parameters.interval_description),this.render()},a.prototype.setMonth=function(){return this.isTeam()?this.setPlan(c.team_month()):this.setPlan(c.individual_month())},a.prototype.setYear=function(){return this.isTeam()?this.setPlan(c.team_year()):this.setPlan(c.individual_year())},a.prototype.setTeam=function(){return this.isPayPal()&&this.options.creditCardPaymentInput.prop("checked",!0).trigger("change"),this.isYear()?this.setPlan(c.team_year()):this.setPlan(c.team_month())},a.prototype.setIndividual=function(){return this.isYear()?this.setPlan(c.individual_year()):this.setPlan(c.individual_month())},a.prototype.getTotal=function(){return this.isTeam()?this.selectedPlan.initial_amount*this.teamQuantity:this.selectedPlan.initial_amount},a.prototype.isPayPal=function(){return!this.isTeam()&&this.payPal},a.prototype.isMonth=function(){return this.selectedPlan.isMonth()},a.prototype.isYear=function(){return this.selectedPlan.isYear()},a.prototype.isTeam=function(){return this.selectedPlan.isTeam()},a.prototype.isIndividual=function(){return this.selectedPlan.isIndividual()},a.prototype.render=function(){return this.isYear()?(this.options.yearly.addClass(this.options.selectActiveClass),this.options.monthly.removeClass(this.options.selectActiveClass)):(this.options.monthly.addClass(this.options.selectActiveClass),this.options.yearly.removeClass(this.options.selectActiveClass)),this.isTeam()?(this.options.selectSingle.removeClass(this.options.selectActiveClass),this.options.selectGroup.addClass(this.options.selectActiveClass),this.options.seatSelect.show(),this.options.paypal.hide(),this.options.creditCardPaymentInput.prop("checked",!0),this.options.seatInput.trigger("input")):(this.options.selectSingle.addClass(this.options.selectActiveClass),this.options.selectGroup.removeClass(this.options.selectActiveClass),this.options.seatSelect.hide(),this.options.paypal.show(),this.options.seatInput.val(1).trigger("input")),this.isPayPal()?(this.options.creditCard.hide(),this.options.creditCardInput.removeAttr("required")):(this.options.creditCard.show(),this.options.creditCardInput.attr("required","requird"))},a}(),e}.call(this),$(function(){var a=this;return $("#payment-form").submit(function(b){var c;return c=new Payment($(a)),c.submit(),!1})}),window.CS.Loot=a}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};this.CS.BadgeProgress=function(){function b(b){this.options=b,this.arc=a(this.arc,this),this.init()}return b.prototype.init=function(){var a,b,c=this;return a=this.options.element,b=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.path=document.createElementNS("http://www.w3.org/2000/svg","path"),this.radius=a.width()/2,this.progress_start=.01,this.options.percentage===void 0?this.progress_end=this.options.completed/this.options.total*100:this.progress_end=this.options.percentage,this.progress_end!==100&&(a.append(b),b.appendChild(this.path),b.setAttribute("height",this.radius*2),b.setAttribute("width",this.radius*2)),this.arc(!0),setTimeout(function(){return c.draw()},this.options.delay||0)},b.prototype.draw=function(){return this.progress_end>this.progress_start&&requestAnimationFrame(this.arc),this.progress_start=this.progress_start+1},b.prototype.arc=function(a){var b,c,d,e,f;b=this.progress_start/100*Math.PI*2-Math.PI*2,e=this.radius+this.radius*Math.sin(b),f=this.radius-this.radius*Math.cos(b),d=b>-Math.PI?0:1,c="M "+this.radius+", "+this.radius+"\nL "+this.radius+", 0\nA "+this.radius+", "+this.radius+" 1 "+d+" 0 "+e+", "+f+"\nZ",this.path.setAttribute("d",c);if(a!==!0)return this.draw()},b.prototype.update=function(a){return this.progress_end=a,this.draw()},b}()}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.releasesAvailable=b(this.releasesAvailable,this),this.canDisplayBanner=b(this.canDisplayBanner,this),this.displayNextRelease=b(this.displayNextRelease,this),this.cleanOldReleaseIDs=b(this.cleanOldReleaseIDs,this),this.parseLastCourseInfo=b(this.parseLastCourseInfo,this),this.parseRecentCourseIDs=b(this.parseRecentCourseIDs,this),this.isValidRelease=b(this.isValidRelease,this),this.getHiddenReleaseIDs=b(this.getHiddenReleaseIDs,this),this.addBanner=b(this.addBanner,this),this.closeBanner=b(this.closeBanner,this),this.dismissBanner=b(this.dismissBanner,this),this.addToHiddenReleases=b(this.addToHiddenReleases,this),this.removeBanner=b(this.removeBanner,this),this.isHidden=b(this.isHidden,this),this.hiddenReleaseIDs=[],this.recentCourseIDs=[],this.releases=[],this.init()}return a.prototype.init=function(){return this.getHiddenReleaseIDs(),this.fetchReleases()},a.prototype.isHidden=function(a){var b,c;return b=(c=_.indexOf(this.hiddenReleaseIDs,a)!==-1)!=null?c:{"true":!1},b},a.prototype.buildTemplate=function(a){var b;return b={course_id:a.id,course_title:a.title,course_path:a.path,source:"Release Banner"},$("<div class='banner banner--"+a.path.toLowerCase().replace("/","-")+"' data-course-id='"+a.id+"'>        <a class='banner-close close' href='#'>          <b class='srt'>Close</b>        </a>        <h3 class='banner-title'>          <b>New Course</b>          <a href='"+a.link+"' class='banner-title-link' data-segment-link='"+CS.Event.Course.VISITED+"' data-segment-properties='"+JSON.stringify(b)+"'>"+a.title+"</a>        </h3>      </div>")},a.prototype.removeBanner=function(a){var b;b=this;if(a.hasClass("banner-close"))return a.parent().toggleClass("is-visible").promise().done(function(){return $(this).remove(),b.displayNextRelease()})},a.prototype.addToHiddenReleases=function(a){return this.hiddenReleaseIDs&&this.hiddenReleaseIDs.length>0?(this.hiddenReleaseIDs.push(a),$.cookie("hidden_releases",this.hiddenReleaseIDs.toString())):$.cookie("hidden_releases",a)},a.prototype.dismissBanner=function(a){var b;return this.getHiddenReleaseIDs(),b=$(a.currentTarget).parents(".banner").data("course-id"),this.addToHiddenReleases(b)},a.prototype.closeBanner=function(a){return this.dismissBanner(a),this.removeBanner($(a.currentTarget)),a.preventDefault()},a.prototype.addBanner=function(a){return this.banner=this.buildTemplate(a),this.canDisplayBanner(a)?($("body").prepend(this.banner),setTimeout(function(){return $(".banner").addClass("is-visible")},250)):this.cleanOldReleaseIDs(),this.banner.on("click",".banner-close",this.closeBanner),this.banner.on("click",".banner-title-link",this.dismissBanner),CS.Segment.trackLinks(".banner-title-link")},a.prototype.getHiddenReleaseIDs=function(){var a;a=$.cookie("hidden_releases");if(a)return this.hiddenReleaseIDs=_.map(a.split(","),function(a){return parseInt(a)})},a.prototype.isValidRelease=function(a){var b,c,d;return d=new Date,c=new Date(d.setDate(d.getDate()-7)),b=new Date(a.raw_released_at),a["class"]!=="new-course"||this.isHidden(a.released_id)||c>b?!1:!0},a.prototype.parseRecentCourseIDs=function(a){return this.recentCourseIDs=_.map(a,function(a){return a.released_id})},a.prototype.parseLastCourseInfo=function(a){var b,c,d,e,f;for(b=e=0,f=a.length;e<f;b=++e){c=a[b];if(!this.isValidRelease(c))continue;d={id:a[b].released_id,title:a[b].title,path:a[b].path_name,link:a[b].path},this.releases.push(d)}return this.displayNextRelease()},a.prototype.cleanOldReleaseIDs=function(){return this.hiddenReleaseIDs=_.select(this.hiddenReleaseIDs,function(a){return _.contains(this.recentCourseIDs,a)}),$.cookie("hidden_releases",this.hiddenReleaseIDs.toString())},a.prototype.displayNextRelease=function(){var a,b,c,d,e;this.getHiddenReleaseIDs();if(this.releasesAvailable){d=this.releases,e=[];for(b=0,c=d.length;b<c;b++){a=d[b];if(this.isHidden(a.id))continue;this.addBanner(a);break}return e}},a.prototype.canDisplayBanner=function(a){return!this.isHidden(a.id)},a.prototype.releasesAvailable=function(){return this.releases.length>0},a.prototype.fetchReleases=function(){return $.ajax({url:window.location.origin+"/releases.json",context:this,success:function(a){if(a.length!==0)return this.parseRecentCourseIDs(a),this.parseLastCourseInfo(a)}})},a}(),window.CS.ReleaseBanner=a,$(document).ready(function(){if($(".home-show").length>0)return new CS.ReleaseBanner})}.call(this),function(){this.CS.PlasticFeel=function(){function a(){}return a.calculateLuhn=function(a){var b,c,d,e,f,g;g=0,e=0;while(e<a.length)g+=parseInt(a.substring(e,e+1)),e++;b=new Array(0,1,2,3,4,-4,-3,-2,-1,0),e=a.length-1;while(e>=0)c=parseInt(a.substring(e,e+1)),d=b[c],g+=d,e-=2;return f=g%10,f=10-f,f===10&&(f=0),f},a.luhnCheck=function(a){var b,c,d;return c=a.replace(/[^\d]/g,""),b=parseInt(c.substring(c.length-1,c.length)),d=c.substring(0,c.length-1),CS.PlasticFeel.calculateLuhn(d)!==parseInt(b)&&!1,!0},a.creditCardTypeFromNumber=function(a){switch(parseInt(a.substring(0,2))){case 34:case 37:return"amex";case 51:case 52:case 53:case 54:case 55:return"mastercard";default:switch(parseInt(a.substring(0,4))){case 6011:return"discover";default:switch(parseInt(a.substring(0,1))){case 4:return"visa";default:return"generic"}}}},a.prototype.detectCardType=function(a){var b,c;return b=a.val(),c=CS.PlasticFeel.creditCardTypeFromNumber(b),CS.PlasticFeel.luhnCheck(b)&&b.length>11?a.parent().addClass("is-valid"):a.parent().removeClass("is-valid"),c},a}()}.call(this),function(){this.CS.CreditCard=function(){function a(a){this.options=a,this.init()}return a.prototype.init=function(){return this.events()},a.prototype.events=function(){var a=this;return this.options.toggle.on("click",function(b){var c;return b.preventDefault(),c=$(b.currentTarget),c.data("reverse")?a.options.flip.removeClass(a.options.activeClass):a.options.flip.addClass(a.options.activeClass)}),this.options.numberInput.on("focus",function(b){return a.options.cards.addClass(a.options.genericClass)}),this.options.numberInput.on("keyup",function(b){var c,d,e;return d=$(b.currentTarget),c=d.val(),e=Stripe.card.cardType(c),e!=="Unknown"?(a.clearState(),a.options.cards.filter("[data-type='"+e+"']").addClass(a.options.validClass)):(a.clearState(),a.options.cards.addClass(a.options.genericClass))})},a.prototype.clearState=function(){return this.options.cards.removeClass(this.options.validClass)},a}()}.call(this),function(){this.CS.BulkRemove=function(){function a(a){this.options=a,this.init()}return a.prototype.init=function(){return this.trash=[],this.isSelecting=!1,this.isSelected=!1,this.events()},a.prototype.events=function(){var a=this;return this.options.remove.on("click",function(b){return b.preventDefault(),a.isSelecting=!0,a.options.container.addClass(a.options.selectingClass)}),this.options["delete"].on("click",function(b){return b.preventDefault(),a.options.item.each(function(b,c){var d;d=$(c);if(d.data("selected")===!0)return a.trash.push(d)}),a.confirm()}),this.options.cancel.on("click",function(b){return b.preventDefault(),a.clear()}),this.options.yes.on("click",function(b){return b.preventDefault(),a.remove()}),this.options.no.on("click",function(b){return b.preventDefault(),a.clear()}),this.options.item.on("click",function(b){var c;if(a.isSelecting)return b.preventDefault(),a.isSelected=!0,c=$(b.currentTarget),c.toggleClass(a.options.itemSelectedClass),c.data("selected",c.hasClass(a.options.itemSelectedClass)),a.options.container.addClass(a.options.selectedClass)}),$(document).on("keyup",function(b){switch(b.which){case 27:return a.clear()}})},a.prototype.clearStates=function(){return this.options.container.removeClass(this.options.selectingClass),this.options.container.removeClass(this.options.selectedClass),this.options.container.removeClass(this.options.loadingClass),this.options.item.removeClass(this.options.itemSelectedClass),this.options.bar.removeClass(this.options.confirmingClass),this.trash=[]},a.prototype.confirm=function(){return this.options.bar.addClass(this.options.confirmingClass)},a.prototype.addLoadingState=function(){return this.options.container.addClass(this.options.loadingClass)},a.prototype.clear=function(){return this.isSelecting=!1,this.isSelected=!1,this.clearStates()},a.prototype.getTrash=function(){return this.trash},a}()}.call(this),function(){this.CS.Share=function(){function a(a){this.options=a,this.init()}return a.prototype.init=function(){return this.setConfiguration(),this.injectScripts(),this.setEventHandlers()},a.prototype.setConfiguration=function(){return this.settings={services:["twitter","facebook","google"],elements:{container:$(".js-share"),toggle:$(".js-share-toggle"),service:$(".js-share-service"),item:".js-share-service-item",activeClass:""},content:{text:$(".js-share-service--twitter").parent().data("share-text"),url:$(".js-share").data("share-url")},popup:{height:400,width:575,left:0,top:0},scripts:["//platform.twitter.com/widgets.js"]},$.extend(this.settings,this.options)},a.sanitize=function(a){return a.replace(/(<([^>]+)>)/ig,"")},a.prototype.injectScripts=function(){var a,b,c,d,e;d=this.settings.scripts,e=[];for(b=0,c=d.length;b<c;b++)a=d[b],e.push($("<script async src='"+a+"'></script>").appendTo("body"));return e},a.prototype.setEventHandlers=function(){var a=this;return this.settings.elements.toggle.on("click",function(b){var c;return b.preventDefault(),c=$(b.currentTarget),c.parent().toggleClass(a.settings.elements.activeClass)}),this.settings.elements.service.on("click",function(b){var c,d;b.preventDefault(),c=$(b.currentTarget),d=a.getServiceType(c.parent());switch(d){case"twitter":return a.handlePopup("twitter");case"facebook":return a.handlePopup("facebook");case"google":return a.handlePopup("google")}})},a.prototype.getServiceType=function(a){return a.data("share-service")},a.prototype.handlePopup=function(a){var b,c;b="width="+this.settings.popup.width+",       height="+this.settings.popup.height+",       top="+this.settings.popup.top+",       left="+this.settings.popup.left;switch(a){case"twitter":c="https://twitter.com/share?text="+this.settings.content.text+"&url="+this.settings.content.url;break;case"facebook":c="https://www.facebook.com/sharer/sharer.php?u="+this.settings.content.url,a="facebook-share-dialog";break;case"google":c="https://plus.google.com/share?url="+this.settings.content.url}return window.open(c,a,b)},a}()}.call(this),function(){this.CS.NewValidationService=function(){return{initializeValidation:function(a){var b=this;return a==null&&(a={}),this.inputSelector=a.inputSelector||"[data-validates]",this.validClass=a.validClass||"is-valid",this.invalidClass=a.invalidClass||"is-invalid",this.classOnParent=a.classOnParent!=null?a.classOnParent:!0,this.elementContainer=a.elementContainer||"fieldset",this.disableValidationClass=a.disableValidationClass||"no-validation",$(this.inputSelector).on("blur",function(a){return CS.NewValidationService.validate($(a.currentTarget))}),$(this.inputSelector).filter("[type=radio]").on("change",function(a){return CS.NewValidationService.validate($(a.currentTarget))}),$(a.formSelector).each(function(){var a,b=this;return a=$(this),a.data("remote")===!0?a.bind("ajax:before",function(a){return CS.NewValidationService.validateAll($(a.target))}):a.find("input[type=submit]").on("click",function(a){return CS.NewValidationService.validateOnSubmit($(a.target).parents("form"))})})},validate:function(a){var b,c,d,e,f,g;b=null;if(a.data("custom-async-validation")){CS[a.data("custom-async-validation")](element);return}if(a.val()===""&&a.data("validates")==="text")b="Please enter a value.";else if(a.val()===""&&a.data("validates")==="first-name")b="Please enter your first name.";else if(a.val()===""&&a.data("validates")==="last-name")b="Please enter your last name.";else if(a.val()===""&&a.data("validates")==="select-country")b="Please select a country.";else if(a.val()===""&&a.data("validates")==="city")b="Please enter your city.";else if(a.val()===""&&a.data("validates")==="state-province")b="Please enter your state or province.";else if(a.val()===""&&a.data("validates")==="select-industry")b="Please select your industry or field of study.";else if(a.val()===""&&a.data("validates")==="select-origin")b="Please select where you received your code.";else if(a.data("validates")==="custom"&&a.data("custom-validator")){c=window,g=a.data("custom-validator").split(".");for(e=0,f=g.length;e<f;e++)d=g[e],c=c[d];c(a.val())||(b=a.data("error-message"))}else a.data("validates")==="email"&&!/\S+@\S+\.\S+/.test(a.val())?b="Please enter a valid email address":a.data("validates")==="password"&&a.val().length<6?b="Your password needs to be at least 6 characters long":a.data("validates")==="username"&&!/^[a-zA-Z_-](?!.*([_-])\1)[A-Za-z0-9_-]+$/i.test(a.val())?b="Your username can't start with a number, and should only have letters & numbers without spaces.":a.val()===""&&a.data("validates")==="login"?b="Please enter you email or username.":a.attr("type")==="radio"&&!this.radioValueChosen(a.attr("name"))&&(b="Please choose one.");return b?this.setErrorMessage(a,b):this.removeErrorMessage(a)},setErrorMessage:function(a,b){var c,d;return d=a.parents(this.elementContainer),c=this.classOnParent?d:a,c.removeClass(this.validClass).addClass(this.invalidClass),d.find(".error-message").remove(),a.tooltip({title:b})},removeErrorMessage:function(a){var b,c;return c=a.parents(this.elementContainer),b=this.classOnParent?c:a,b.removeClass(this.invalidClass).addClass(this.validClass),a.tooltip("destroy")},radioValueChosen:function(a){var b,c,d;d=document.getElementsByName(a),b=!1,c=0;while(c<d.length)d[c].checked&&(b=!0),c++;return b},validateAll:function(a){var b,c,d,e,f,g;d=!0,g=a.find(this.inputSelector);for(e=0,f=g.length;e<f;e++){c=g[e],CS.NewValidationService.validate($(c)),b=this.classOnParent?$(c).parents(this.elementContainer):$(c);if(b.hasClass(this.invalidClass)||$(c).val()==="")d=!1}return d},validateOnSubmit:function(a){if(a.data("submission-valid")===!0||a.hasClass("no-validation"))return;event.preventDefault();if(this.validateAll(a))return a.data("submission-valid",!0),a.trigger("submit")}}}()}.call(this),function(){CS.setup=function(){var a,b;return $(".modernizr-no-touch").length&&$('[rel~="tooltip"]').tooltip({animation:!1}),$(".modal").on("shown",function(){return $(this).find("fieldset input").first().focus()}),b=$(".progress"),b.each(function(){var a;return a=$(this),a.animate({width:a.data("width")},1500)}),$(".quick-auth input").on("keydown",function(a){return a.stopPropagation()}),a=0,$(".l-card--path").each(function(b){var c;return c=$(this),a=c.outerHeight()>a?c.outerHeight():a}),$(".l-card--path").each(function(b){return $(this).not(".l-card--path--full").height(a+5)}),CS.clickout({element:$(".share"),run:function(){return $(".share").removeClass("is-share-active")}})}}.call(this),function(){CS.setMyAccountLink=function(){var a,b;b=$.cookie("signed_in")==="true";if(b)return a=$(".js-loginLink"),a.removeClass(".js-loginLink").html("<a class='nav-item-link list-item-link' href='"+a.attr("data-account-url")+"'>My Account</a>").after("<li class='nav-item list-item' title='Sign Out'><a class='nav-item-link list-item-link' href='"+a.attr("data-logout-url")+"' data-method='delete'>Sign Out</a></li>")},CS.seatSelector=function(a){var b,c,d,e,f=this;return b=c=parseInt(a.input.val()),e=a.seatPrice,d=a.paymentInterval,a.input.on("input",function(c){var g,h,i;g=$(c.currentTarget),i=parseInt(c.currentTarget.value[c.currentTarget.value.length-1]),isNaN(i)&&g.val(g.val().substr(0,g.val().length-1)),h=parseInt(g.val());if(h>0&&!isNaN(h))return a.priceElement&&f.updatePrice(g.val(),e,d,a.priceElement),b=h;g.val("");if(a.priceElement)return f.updatePrice(1,e,d,a.priceElement)}),a.controls.on("click",function(c){return c.preventDefault(),$(this).hasClass("js-seatSelect-control--add")?(b++,a.enroll&&CS.updatePrice(b,e,d,a.priceElement)):(b<=1||b--,a.enroll&&CS.updatePrice(b,e,d,a.priceElement)),a.input.val(b).trigger("input")})},CS.updatePrice=function(a,b,c,d){var e;if(!!d)return e=b*a,d.html("<strong>$"+e.toFixed(2)+"</strong> every "+c)},CS.deactivateSelect=function(a){return a.toggle.on("click",function(b){var c;return c=$(this),a.fauxButton.removeClass("is-active"),c.find("b").addClass("is-active"),c.hasClass(a.indefiniteClass)&&c.data(a.grandfatheredClass)?(a.desc.removeClass(a.hiddenClass).addClass(a.hiddenClass),a.helpForever.removeClass(a.hiddenClass)):(a.desc.removeClass(a.hiddenClass).addClass(a.hiddenClass),a.helpInterval.removeClass(a.hiddenClass))})},CS.dashboardFilter=function(a){return a.el.on("click",function(b){var c,d;return b.preventDefault(),c=$(this),d=c.attr("href"),a.el.parent().removeClass("is-active"),c.parent().addClass("is-active"),a.content.addClass("is-hidden"),$(d).removeClass("is-hidden")})},CS.userBar=function(a){var b,c,d;return c=$(".nav--sub-asideLink"),b=$.cookie("hide_userBar"),b!==""&&c.removeClass("l-hide"),b!=="true"&&a.container.addClass("is-userBar-expanded"),a.toggle.on("click",function(b){return b.preventDefault(),d(),a.container.toggleClass("is-userBar-expanded")}),d=function(){return a.container.hasClass("is-userBar-expanded")?($.cookie("hide_userBar","true",{path:"/"}),c.removeClass("l-hide")):($.cookie("hide_userBar","",{path:"/"}),c.addClass("l-hide"))}}}.call(this),function(){CS.scrollReviews=function(a){var b,c,d;return c=$(a.link_selector),b=$(a.append_to),d=c.attr("href"),c.on("click",function(a){return a.preventDefault(),c.addClass("is-loading"),$.get(d,{offset:CS.reviewOffset},function(a){return c.removeClass("is-loading"),CS.reviewOffset=CS.reviewOffset+20,a.length>1?b.append(a):c.remove()})})},CS.badgeHover=function(){return $(".badges .badge").hover(function(){var a,b;return b=$(this),a=$("#"+b.data("large-badge-id")),a.attr("src",b.data("large-url"))},function(){var a,b;return b=$(this),a=$("#"+b.data("large-badge-id")),a.attr("src",a.data("original-url"))})}}.call(this),function(){CS.testimonials=function(a){return a.avatar.on("mouseover",function(b){var c,d;return c=$(this),d=c.data("user"),a.avatar.removeClass("is-testimonial-active is-testimonial-inactive"),a.avatar.addClass("is-testimonial-inactive"),c.removeClass("is-testimonial-inactive").addClass("is-testimonial-active"),a.testimonial.addClass("is-hidden").filter("[data-user='"+d+"']").removeClass("is-hidden")})}}.call(this),function(){CS.pathFilter=function(){var a,b,c,d,e,f;return f={},a=!1,c=function(a){return f=a,e(),b()},e=function(){return f.link.on("click",function(a){var b;return a.preventDefault(),b=$(this),d(b)})},b=function(){var a;a=CS.sanitize(window.location.hash);if(a)return f.link.each(function(b){var c;if($(this).attr("href")===a)return c=$(this),d(c)})},d=function(a){var b,c;return b=a.attr("href").split("#")[1],c=$("[data-item*='"+b+"']"),f.link.parent().removeClass(f.activeClass),a.parent().addClass(f.activeClass),f.item.addClass(f.hiddenClass),b!=="show-all"?(c.removeClass("has-node").find(".node").addClass(f.hiddenClass),c.removeClass(f.hiddenClass),f.subgroup.addClass(f.hiddenClass).parent().removeClass("mbl")):(c.addClass("has-node").find(".node").removeClass(f.hiddenClass),f.item.removeClass(f.hiddenClass).addClass("has-node").find(".node").removeClass(f.hiddenClass),f.subgroup.removeClass(f.hiddenClass).parent().addClass("mbl"))},{init:c}}(),CS.connect=function(a){var b,c,d,e,f,g,h,i;$(a.canvas).addClass("has-connections"),a.connection=new Connection(a.canvas);if(a.connections){h=a.connections,i=[];for(f=0,g=h.length;f<g;f++)c=h[f],a.scroll?(e=$(window).scrollTop(),d=$(c.selector),a.scrollPadding&&(b=e-d.offset().top>=0-a.scrollPadding),!d.hasClass("is-connected")&&b?(d.addClass("is-connected"),i.push(a.connection.draw(""+c.selector,""+c.connectee))):i.push(void 0)):i.push(a.connection.draw(""+c.selector,""+c.connectee));return i}return a.connection},CS.scrollConnect=function(a){var b;return b=_.throttle(a,250),$(window).on("scroll",b)},CS.pathConnect=function(a,b){return $(b).each(function(){var b,c;return c=$(this),b=c.find(".path-media").attr("id"),c.find(".path-100").each(function(){return a.draw($("#"+b),$(this))}),c.find("li, .course").each(function(){var b,c,d,e,f,g,h;b=(g=$(this).data("connection"))!=null?g.toString().split(" "):void 0,c=$(this).attr("id");if(b!=null){h=[];for(e=0,f=b.length;e<f;e++)d=b[e],h.push(a.draw($("#"+c),$("#"+("course-"+d))));return h}})})}}.call(this),function(){CS.tabs=function(){return $(".tabList-item-link").on("click",function(a){var b,c;return a.preventDefault(),b=$(this),c=b.attr("href"),$(".tabList-item").removeClass("is-active"),b.parent().addClass("is-active"),$(".tabList-container").addClass("is-hidden"),$(c).removeClass("is-hidden")})},CS.tabsHash=function(a){var b;b=window.location.hash;if(b&&b===a.hash)return $(".tabs a").removeClass("active"),$(".tabs-container .tabs-content").removeClass("is-visible"),a.activeItem.addClass("active"),a.show.addClass("is-visible")},CS.tabsAuth=function(a){return a.tabs.on("click",function(b){var c;return b.preventDefault(),c=$(this).data("href"),a.tabs.removeClass("active"),$(this).addClass("active"),a.forms.removeClass("is-visible"),$(".auth."+c).addClass("is-visible")})}}.call(this),function(){CS.bulkRemove=function(){var a,b;return b={remove:$(".js-removeMembers"),"delete":$(".js-removeMembers-delete"),cancel:$(".js-removeMembers-cancel"),bar:$(".js-removeMembers-bar"),yes:$(".js-removeMembers-yes"),no:$(".js-removeMembers-no"),container:$(".js-team"),item:$(".js-member"),selectingClass:"is-selecting",selectedClass:"is-selected",itemSelectedClass:"choice is-removing",confirmingClass:"is-confirming",loadingClass:"is-loading"},a=new CS.BulkRemove(b),a.remove=function(){return a.addLoadingState(),a.getTrash().length===0&&a.clearStates(),$.each(a.getTrash(),function(b,c){return $.when($.each($(c).data("deleteUrl").split(","),function(a,b){return $.ajax({url:b+".json",type:"DELETE",dataType:"json",error:function(a){return CS.notifyError("There was an error removing the team members.")},success:function(a){return a.errors?CS.notifyError(a.errors):($(c).remove(),CS.updateSubscriptionState(a.subscription),CS.notify(a.notice,"success"))}})})).done(function(){return a.clearStates()})})}},CS.updateSubscriptionState=function(a){var b,c;if(a)return c=a.membership_invitations_count+a.memberships_count,b=a.quantity-c,CS.updateSeats({available:b,used:c})},CS.hideSeatUpdaterForm=function(){return $(".modal").modal("hide")},CS.updateSeats=function(a){var b,c;return a==null&&(a={}),(b=a.availableSeatsContainer)==null&&(a.availableSeatsContainer=$(".js-seatsAvailable")),(c=a.usedSeatsContainer)==null&&(a.usedSeatsContainer=$(".js-seatsUsed")),$(a.availableSeatsContainer).text(a.available),$(a.usedSeatsContainer).text(a.used)},CS.updateEmailInputs=function(a){var b,c,d,e,f,g,h,i,j;c=$(".js-formAddMember-input"),f=".js-formAddMember-input:last",b=c.children(".js-formAddMember").length,i=Math.abs(b-a.availableSeats);if(b<a.availableSeats){if(b===0)return d=_.min([i,3]),_(d).times(function(){var a,b;return a=$("<fieldset class='js-formAddMember-input input-add' />"),b=$("<input id='email_' name='email[]' type='text' class='form-input'><i class='icn icn--avatar'></i>"),a.append(b),$(c).prepend(a)}),CS.toggleInvitationAbility();g=3,b>=g?h=0:h=i,e=$(f).children("input").val().length>0,_(h).times(function(){return CS.cloneElement({target:f,appendAfter:f}),CS.resetEmailInputField({target:f})});if(h===0&&e)return CS.cloneElement({target:f,appendAfter:f}),CS.resetEmailInputField({target:f}),$(".js-noSeatsLeft").addClass("is-hidden")}else if(b>a.availableSeats){_(i).times(function(){return $(f).remove()}),j=c.children(".js-formAddMember").length;if(j===0)return CS.toggleInvitationAbility()}},CS.cloneElement=function(a){var b;return a==null&&(a={}),b=$(a.target).clone(!0,!0),$(a.appendAfter).after(b)},CS.resetEmailInputField=function(a){return a==null&&(a={}),$(a.target).removeClass("focused").children("input").removeClass("is-invalid").val("")},CS.toggleInvitationAbility=function(){var a,b;return b=$(".js-formAddSubmit").toggleClass("is-hidden").hasClass("is-hidden"),a=$(".js-invitationInstructions").toggleClass("is-hidden").hasClass("is-hidden"),b&&a?$(".js-noSeatsLeft").removeClass("is-hidden"):$(".js-noSeatsLeft").addClass("is-hidden")},CS.duplicateAutomatically=function(a){return $(a.delegator).on(a.event,$(a.sender),function(b){var c,d;if($(b.target).parent().is(":last-of-type")){c=$(b.target),d=c.parent(),a.errorClass!=null&&$(a.errorClass).addClass("is-hidden");if(c.val().length>5&&CS.remainingSeatCount()>0)return CS.cloneElement({target:d,appendAfter:d}),CS.resetEmailInputField({target:$(a.sender).filter(":last").parent()});if(CS.remainingSeatCount()===0&&c.val().length>5&&a.errorClass!=null)return $(a.errorClass).removeClass("is-hidden")}})},CS.remainingSeatCount=function(){var a,b;return a=$(".js-seatsAvailable").html().match(/\d+/),b=0,_.map($(".js-formAddMember-input"),function(a){if($(a).val().length>0)return b++}),a-b},CS.validateEmails=function(a){return a==null&&(a={}),$(a.container).on("keyup",$(a.target),function(a){var b;return b=$(a.target),$(b).val().length>5?$(b).val().indexOf("@")===-1?($(b).attr("data-valid",!1),$(b).parent().addClass("is-invalid")):($(b).attr("data-valid",!0),$(b).parent().removeClass("is-invalid")):($(b).attr("data-valid",!1),$(b).parent().removeClass("is-invalid"))})},CS.resetOpenInvitationForm=function(){return $(".invite.is-expanded").find("input[type=text]").removeClass("is-invalid is-valid").val("")},CS.closeOpenInvitationForm=function(){return $(".js-add").removeClass("active"),$(".invite").removeClass("is-expanded")},CS.countUsedSeats=function(a){return a==null&&(a={}),a.subscription.memberships_count+a.subscription.membership_invitations_count},CS.countAvailableSeats=function(a){return a==null&&(a={}),a.subscription.quantity-CS.countUsedSeats({subscription:a.subscription})},CS.handleBatchInvitationResponse=function(a){var b;return a==null&&(a={}),b=_.any(a.response.invitations,function(a){return a.created===!1}),b?(_.each(a.response.invitations,function(a){var b;return b=$("input").filter(function(){return this.value===""+a.email}),a.created?b.parent().addClass("is-valid"):(b.parent().addClass("is-invalid"),b.siblings("i").attr({rel:"tooltip",title:""+a.error}),b.siblings("i").tooltip({animation:!1,delay:0,trigger:"hover",template:'<div class="tooltip tooltip-invert"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}))}),$(".js-formAddMember.is-invalid").filter(":first").children("i").tooltip("show")):(CS.resetOpenInvitationForm(),CS.closeOpenInvitationForm(),CS.reloadPage())},CS.listFilter=function(a,b){return $("#search").on("keyup",function(){var a,c;return a=$.trim($(this).val()).toLowerCase(),a?(c=$(b).find(".js-member-info:not(:Contains("+a+"))"),$(b).find(".js-member-container").removeClass("is-hidden"),c.parents(".js-member-container").toggleClass("is-hidden")):$(b).find(".js-member-container").removeClass("is-hidden")})},jQuery.expr[":"].Contains=function(a,b,c){return(a.textContent||a.innerText||"").toUpperCase().indexOf(c[3].toUpperCase())>=0},$(function(){var a=this;return window.location.hash==="#add-members"&&setTimeout(function(){return $(".js-addMembers").trigger("click")},10),window.location.hash==="#add-managers"&&setTimeout(function(){return $(".js-addManagers").trigger("click")},10),CS.listFilter($("#search"),$("#list")),$("#seats-form").on("ajax:complete",function(a,b,c){var d,e,f;if(c==="success")return e=JSON.parse(b.responseText),_.contains(Object.keys(e),"errors")?(e.errors.length>0&&$(".js-seatSelect-error").text(e.errors),$(".js-seatSelect-error").removeClass("is-hidden")):($(".js-seatSelect-error").addClass("is-hidden"),f=CS.countUsedSeats({subscription:e}),d=CS.countAvailableSeats({subscription:e}),CS.updateSeats({available:d,used:f}),CS.updateEmailInputs({availableSeats:d}),CS.hideSeatUpdaterForm())}),$(".js-addMemberForm").on("ajax:complete",function(a,b,c){var d,e,f,g;
if(c==="success")return e=JSON.parse(b.responseText),f=e.subscription,g=CS.countUsedSeats({subscription:f}),d=CS.countAvailableSeats({subscription:f}),CS.updateSeats({available:d,used:g}),CS.handleBatchInvitationResponse({response:e})}),$(".js-addManagerForm").on("ajax:complete",function(a,b,c){var d,e;if(c==="success")return d=JSON.parse(b.responseText),e=d.subscription,CS.handleBatchInvitationResponse({response:d})}),$(".js-addManagerForm-submit, .js-addMemberForm-submit").on("click",function(a){if($(".js-formAddMember-input, .js-formAddManager-input").filter("[data-valid=true]").length===0)return a.preventDefault()})})}.call(this),function(){CS.toggle=function(a){switch(a.event){case"hover":return $(a.el).on({mouseenter:function(){return $(this).find(a.show).addClass("is-visible")},mouseleave:function(){return $(this).find(a.show).removeClass("is-visible")}}),$(a.el).on("click",function(a){return a.preventDefault()});case"click":return $(a.el).on({click:function(b){var c;b.preventDefault(),c=$(this),c.toggleClass("active"),$(a.el).not(c).removeClass("active"),c.next(a.show).toggleClass("is-visible"),$(a.show).not(c.next(a.show)).removeClass("is-visible");if(a.focus)return $(a.show).find("fieldset input").first().focus()}})}},CS.collapsible=function(a){return a.toggle.on("click",function(b){var c,d;return b.preventDefault(),c=$(this),d=c.find("b"),d.text()==="+"?d.text("-"):d.text("+"),c.toggleClass("active"),a.show.toggleClass("is-visible")})},CS.notify=function(a,b){var c;return c=new CS.Note(".js-notes"),c["new"]({type:""+b,message:""+a})},CS.notifyError=function(a){var b,c=this;return b=new NotificationMessage("Error",a),b.send(function(){return c.notify(a,"error")})},CS.clearNotifications=function(){return $(".notes .error").removeClass("in").addClass("out")},CS.urlPreview=function(a){return a.input.on("keyup",function(){return a.preview.text(a.input.val())})},CS.mailcheck=function(a){var b;return b=["gmail.com","hotmail.com","yahoo.com","me.com","googlemail.com","live.com","mail.ru","gmx.de","mac.com","aol.com","msn.com","web.de","yandex.ru","comcast.net","hotmail.co.uk","gmx.net","yahoo.co.uk","yahoo.com.br","yahoo.fr","hotmail.fr"],a.input.on("blur",function(){return $(this).mailcheck({domains:b,suggested:function(b,c){return a.suggestedAddress.html(c.address),a.suggestedDomain.html(c.domain),a.suggestionHolder.slideDown(),a.fillInLink.click(function(b){return b.preventDefault(),a.input.val(c.full),a.suggestionHolder.slideUp()})},empty:function(a){}})})},CS.inputSelect=function(a){return a.input.on("click",function(){return $(this).focus().select()})},CS.hashURLs=function(a){var b,c;return c={list:$(".js-hashURLs-link"),content:$(".js-hashURLs-content"),hiddenClass:"is-hidden",activeClass:"is-active"},c=$.extend(c,a),window.location.hash?b=CS.sanitize(window.location.hash):b=c.list.first().attr("href"),c.content.not(b).addClass(c.hiddenClass),$("[data-hash="+b+"]").removeClass(c.hiddenClass).addClass(c.activeClass),c.list.on("click",function(a){var d;return d=$(this),a.preventDefault(),b=d.attr("href"),window.location.hash=b,c.list.removeClass(c.activeClass),c.content.addClass(c.hiddenClass),d.addClass(c.activeClass),$(b).removeClass(c.hiddenClass)})},CS.fixOrphanWords=function(a){var b,c,d,e,f;d=a.text.text().split(" "),b="";for(c=e=0,f=d.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)b+=d[c],c===d.length-2?b+="&nbsp;":b+=" ";return a.text.html(b)},CS.scrollTo=function(a){return a.el.on("click",function(b){var c;return b.preventDefault(),c=a.el.attr("href"),$("body, html").animate({scrollTop:parseInt($(c).offset().top)},a.speed)})},CS.limiter=function(a){var b;return b=a.elements.length,b>a.num?(a.elements.not(":lt("+a.num+")").addClass("is-hidden"),a.toggle.on("click",function(b){return b.preventDefault(),$(this).remove(),a.elements.removeClass("is-hidden")})):a.toggle.remove()},CS.clickout=function(a){return $(document).on("click",function(){return a.run()}),a.element.on("click",function(a){return a.stopPropagation()})},CS.escapeOut=function(a){return $(document).on("keyup",function(b){switch(b.which){case 27:if(!$(".modal").is(":visible"))return a.run()}})},CS.sanitize=function(a){return a.replace(/(<([^>]+)>)/ig,"")},CS.toggleClass=function(a){return a.sender.on(a.event,function(b){var c,d,e,f,g;a.event==="click"&&b.preventDefault(),e=$(this),a.senderClass!=null&&e.toggleClass(a.senderClass);if(a.context==null)a.before!=null&&a.before(),a.receiver.toggleClass(a.receiverClass);else switch(a.context){case"next":e.next().toggleClass(a.receiverClass);break;case"prev":e.prev().toggleClass(a.receiverClass);break;case"parent":e.parent().toggleClass(a.receiverClass);break;case"parentNext":e.parent().next().toggleClass(a.receiverClass);break;case"parentPrev":e.parent().prev().toggleClass(a.receiverClass)}if(a.senderActiveTextElementClass!=null)return g=e.find(a.senderActiveTextElementClass),e.attr("data-original-text")!=null?(f=e.attr("data-original-text"),g.text(""+f),e.removeAttr("data-original-text")):(d=e.find(a.senderActiveTextElementClass).text(),c=g.attr("data-active-text"),e.attr("data-original-text",d),g.text(""+c))})},CS.focus=function(a){var b,c;return c=function(){var b,c;return b=$(this),a.receiver!=null?c=b.closest(a.receiver):c=b.parent(),c.removeClass(a.receiverClass),a.senderClass!=null&&b.addClass(a.senderClass),c.addClass(a.receiverClass)},b=function(){var b,c;b=$(this),a.receiver!=null?c=b.closest(a.receiver):c=b.parent(),c.removeClass(a.receiverClass);if(a.senderClass!=null)return b.removeClass(a.senderClass)},a.delegator!=null?$(a.delegator).on("focus",a.sender,c).on("blur",a.sender,b):$(a.sender).on("focus",c).on("blur",b)},CS.filter=function(a){return a.filter.on("click","a",function(b){var c,d;b.preventDefault(),c=$(this),d=c.attr("href").split("#")[1],$(a.filter).removeClass("is-active"),c.parent().toggleClass("is-active"),a.list.removeClass("is-hidden"),d!=="all"&&a.list.not("[data-title~="+d+"]").addClass("is-hidden");if(a.selectionClass!=null)return $(a.selectionClass).html(c.text())})},CS.triggerModal=function(a){var b;return $("a[rel~='modal']").each(function(){return $(this).on("click",function(c){var d,e,f=this;c.preventDefault(),d=$(this),e=function(){return a.modal.modal("show")};switch(a.type){case"team":return b(d,e)}})}),b=function(b,c){return a.modal.load(b.data("path"),c)}},CS.reloadPage=function(){return location.reload(!0)},CS.contentSwap=function(a){return a.toggle.on("click",function(b){var c,d;return b.preventDefault(),d=$(this).attr("href").split("#")[1],c=a.container.attr("class").split(" ")[0],a.container.removeClass("is-visible"),$("."+c+"--"+d).addClass("is-visible")})},CS.scrollTrigger=function(a){var b,c,d;c=400,d=$(window).scrollTop(),b=d-a.el.offset().top>=0-c;if(!a.el.hasClass(a.triggerClass)&&b)return a.el.addClass(a.triggerClass)},CS.queryParams=function(){var a,b,c,d,e,f,g,h;b={},c=(h=window.document.location.search)!=null?h.substr(1):void 0,e=c.split("&");for(f=0,g=e.length;f<g;f++)a=e[f],d=a.split("="),b[d[0]]=d[1];return b},CS.dematerialize=function(){var a,b,c,d,e,f,g;return e={},b="",a=function(a){return e=$.extend({element:$(".js-dematerialize-element"),trigger:$(".js-dematerialize-trigger"),itemTitle:"hidden_element",hiddenClass:"is-hidden"},a),c(),d()},c=function(){return e.trigger instanceof jQuery?e.trigger.on("click",function(a){return a.preventDefault(),f()}):g()},d=function(){return b=localStorage.getItem(e.itemTitle),b===null?e.element.removeClass(e.hiddenClass):e.element.addClass(e.hiddenClass)},f=function(){return e.element.hasClass(e.hiddenClass)?(e.element.removeClass(e.hiddenClass),b=localStorage.removeItem(e.itemTitle)):(e.element.addClass(e.hiddenClass),b=localStorage.setItem(e.itemTitle,!0))},g=function(){return $(document).on("keyup",function(a){var b;b=a.target.tagName.toLowerCase();switch(a.which){case e.trigger:if(b!=="input"&&b!=="textarea")return f()}})},{init:a}}(),CS.equalHeights=function(a){var b,c,d;return d={element:$(".js-equalHeight")},d=$.extend(d,a),c=[],d.element.each(function(){return c.push($(this).height())}),b=Math.max.apply(Math,c),d.element.css("height",b)},CS.showPassword=function(){var a,b,c,d;return c={},a=function(a){c=$.extend({input:$(".js-showPassword-input"),toggle:$(".js-showPassword-toggle"),showByDefault:!1},a),b();if(c.showByDefault)return d()},b=function(){return c.toggle.on("change",function(a){var b;return b=$(this).prop("checked"),b?d():c.input.attr("type","password")})},d=function(){return c.input.attr("type","text"),c.toggle.prop("checked",!0)},{init:a}}()}.call(this),function(){jQuery(function(a){return CS.Reamaze.init(),CS.Segment.init(),CS.setup(),CS.setMyAccountLink(),CS.tabs(),CS.badgeHover(),CS.toggle({event:"click",el:a(".admin-toolbar .dropdown-toggle"),show:a(".admin-toolbar .dropdown-toolbar ul")}),CS.userBar({toggle:a(".userBar-toggle"),container:a(".content")}),CS.mailcheck({input:a("#registration_email, #new_user_registration_email"),suggestionHolder:a(".js-suggest"),suggestedAddress:a(".js-suggest-address"),suggestedDomain:a(".js-suggest-domain"),fillInLink:a(".js-suggest-email")}),a("a[data-assertion-url]:first").click(function(b){var c;return b.preventDefault(),c=a(this).data("assertion-url"),OpenBadges.issue([c],function(a,b){})}),a(".badge--progress").each(function(){return new CS.BadgeProgress({element:a(this),completed:a(this).data("complete"),total:a(this).data("total"),percentage:a(this).data("percentage")})}),a(".js-dropdown-btn").on("click",function(b){return b.stopPropagation(),b.preventDefault(),a(this).toggleClass("is-active").closest(".js-dropdown").toggleClass("is-active")}),a(".dropdown-item-link").on("click",function(b){return a(".dropdown").removeClass("is-active")}),a(".js-toolbar-link").on("click",function(b){b.preventDefault(),a(this).next().toggleClass("is-active");if(a(".toolbar-list--dropdown").is(":visible"))return a(".toolbar-list--dropdown").removeClass("is-active"),a(this).next().toggleClass("is-active")}),CS.clickout({element:a(".js-dropdown-btn"),run:function(){return a(".js-dropdown").removeClass("is-active")}}),a(".nav-menu").on("click",function(b){return b.preventDefault(),a("body").toggleClass("is-nav-active"),a(this).parent().toggleClass("is-active")}),a(".nav-select").on("change",function(){var b,c,d;return b=a(this),d=b.find("option:selected"),c=d.val(),window.location=c}),CS.dematerialize.init({element:a(".toolbar"),trigger:90,itemTitle:"hidden_admin_toolbar"})})}.call(this),function(){this.CS.Segment=function(){var a,b;return a={referrer:document.referrer,pageURL:window.location.href,pageTitle:document.title},b=function(b){return $.extend({},a,b)},{init:function(){if(CS.runAnalytics&&document[CS.visibilityState]!=="prerender")return this.page(),window.analytics.ready(function(){return CS.Segment.start()})},start:function(){return this.identify(),this.trackLinks("[data-segment-link]"),this.trackClicks("[data-segment-click]"),this.trackLinkGroup("[data-segment-group]","a")},alias:function(a){return window.analytics.alias(a)},identify:function(){var a,b;b=!$.isEmptyObject(CS.User)&&!CS.User.anonymous,a=window.analytics._user.id();if(b&&a!==CS.User.email)return a===null&&window.analytics.alias(CS.User.external_id),window.analytics.identify(CS.User.email,{external_id:CS.User.external_id,name:CS.User.name,username:CS.User.username,email:CS.User.email,created:CS.User.created_at,twitter:CS.User.twitter})},page:function(){return window.analytics.page()},track:function(a,c){return c==null&&(c={}),window.analytics.track(a,b(c))},trackLinks:function(a){return window.analytics.trackLink($(a),CS.Segment.eventName,CS.Segment.eventProperties)},trackClicks:function(a){return $(a).on("click",function(a){return window.analytics.track(CS.Segment.eventName(this),CS.Segment.eventProperties(this))})},trackLinkGroup:function(a,b){var c,d,e,f;return f=$(a),c=a+" "+b,d=CS.Segment.eventName(f),e=CS.Segment.eventProperties(f),window.analytics.trackLink($(c),d,e)},eventName:function(a){return $(a).data("segment-link")||$(a).data("segment-group")||$(a).data("segment-click")||""},eventProperties:function(a){return b($(a).data("segment-properties")||{})}}}()}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(a){this.options=a,this._stripeResponseHandler=b(this._stripeResponseHandler,this),this._tokenize=b(this._tokenize,this),$(this.options.user_form).on("submit",this._tokenize)}return a.prototype._ccData=function(){return{name:$(this.options.name).val(),number:$(this.options.number).val(),cvc:$(this.options.security_code).val(),"exp-month":$(this.options.expiration_month).val(),"exp-year":$(this.options.expiration_year).val(),"address-zip":$(this.options.postal_code).val()}},a.prototype._tokenize=function(a){var b;a.preventDefault();try{return this.options.has_stripe_credit_card?$(this.options.hidden_form).submit():$(this.options.hidden_form_payment_method).val()==="paypal"||$(this.options.hidden_form_payment_method).val()==="credits"?$(this.options.hidden_form).submit():(this._disableForm(),Stripe.card.createToken(this._ccData(),this._stripeResponseHandler))}catch(c){return b=c,this._enableForm()}finally{!1}},a.prototype._stripeResponseHandler=function(a,b){return b.error?(CS.notify(b.error.message,"error"),this._enableForm()):($(this.options.hidden_form_token).val(b.id),$(this.options.hidden_form_fingerprint).val(b.card.fingerprint),$(this.options.hidden_form_type).val(b.card.type),$(this.options.hidden_form).submit())},a.prototype._disableForm=function(){return $(this.options.user_form).find("input[type=submit]").prop("disabled",!0)},a.prototype._enableForm=function(){return $(this.options.user_form).find("input[type=submit]").prop("disabled",!1).val("Start School")},a}(),window.CS.NewStripeCreditCard=a}.call(this),function(){this.CS.Reamaze=function(){return{user:{},init:function(){return this.loadUser()},loadUser:function(){return this.user=this.parseCookie()},parseCookie:function(){var a;return a=$.cookie("reamaze_user"),a!=null?JSON.parse(decodeURIComponent(a)):{}}}}()}.call(this),function(){}.call(this)